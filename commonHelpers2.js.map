{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nlet userData = {};\n\nfunction fillFeedbackFormFields() {\n  try {\n    const userDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (userDataFromLS === null) {\n      return;\n    }\n    userData = userDataFromLS;\n    // feedbackFormEl.elements.user_name.value = userDataFromLS.user_name;\n    // feedbackFormEl.elements.user_email.value = userDataFromLS.user_email;\n    // feedbackFormEl.elements.user_message.value = userDataFromLS.user_message;\n\n    for (const key in userDataFromLS) {\n      form.elements[key].value = userDataFromLS[key];\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\nfillFeedbackFormFields();\n\nform.addEventListener('input', setNewData);\nform.addEventListener('submit', clickButton);\n\nfunction setNewData(event) {\n  // const feedbackFieldEl = event.target;\n  const { target: feedbackFieldEl } = event;\n\n  const feedbackFieldName = feedbackFieldEl.name;\n  const feedbackFieldValue = feedbackFieldEl.value;\n\n  userData[feedbackFieldName] = feedbackFieldValue;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(userData));\n}\n\nfunction clickButton(event) {\n  if (\n    !form.elements.email.value.trim() &&\n    !form.elements.message.value.trim()\n  ) {\n    alert('Будь ласка, заповніть поле електронної пошти та поле коментару.');\n    return;\n  }\n  if (!form.elements.email.value.trim()) {\n    alert('Будь ласка, заповніть поле електронної пошти.');\n    console.log(formData);\n    return;\n  }\n\n  if (!form.elements.message.value.trim()) {\n    alert('Будь ласка, заповніть поле textarea.');\n    console.log(formData);\n    return;\n  } else {\n    alert('Дякуємо за ваш відгук!');\n    event.preventDefault();\n    console.log(userData);\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n  }\n}\n\n// document.addEventListener('DOMContentLoaded', () => {\n//   const form = document.querySelector('.feedback-form');\n//   const emailInput = form.querySelector('input[name=\"email\"]');\n//   const messageInput = form.querySelector('textarea[name=\"message\"]');\n\n//   const formData =\n//     JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n//   if (formData.email) {\n//     emailInput.value = formData.email;\n//   }\n//   if (formData.message) {\n//     messageInput.value = formData.message;\n//   }\n\n//   form.addEventListener('input', () => {\n//     const formData = {\n//       email: emailInput.value,\n//       message: messageInput.value,\n//     };\n//     localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n//   });\n\n//   form.addEventListener('submit', event => {\n//     event.preventDefault();\n//     const formData =\n//       JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n//     if (formData.email && formData.message) {\n//       console.log(formData);\n//       localStorage.removeItem('feedback-form-state');\n//       emailInput.value = '';\n//       messageInput.value = '';\n//       alert('Дякуємо за ваш відгук!');\n//     } else {\n//       alert('Будь ласка, заповніть поля електронної пошти та повідомлення.');\n//     }\n//   });\n// });\n"],"names":["form","userData","fillFeedbackFormFields","userDataFromLS","key","err","setNewData","clickButton","event","feedbackFieldEl","feedbackFieldName","feedbackFieldValue"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CAAA,EAEf,SAASC,GAAyB,CAChC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAIA,IAAmB,KACrB,OAEFF,EAAWE,EAKX,UAAWC,KAAOD,EAChBH,EAAK,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAEhD,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,CACAH,IAEAF,EAAK,iBAAiB,QAASM,CAAU,EACzCN,EAAK,iBAAiB,SAAUO,CAAW,EAE3C,SAASD,EAAWE,EAAO,CAEzB,KAAM,CAAE,OAAQC,CAAiB,EAAGD,EAE9BE,EAAoBD,EAAgB,KACpCE,EAAqBF,EAAgB,MAE3CR,EAASS,CAAiB,EAAIC,EAE9B,aAAa,QAAQ,sBAAuB,KAAK,UAAUV,CAAQ,CAAC,CACtE,CAEA,SAASM,EAAYC,EAAO,CAC1B,GACE,CAACR,EAAK,SAAS,MAAM,MAAM,KAAM,GACjC,CAACA,EAAK,SAAS,QAAQ,MAAM,KAAM,EACnC,CACA,MAAM,iEAAiE,EACvE,MACD,CACD,GAAI,CAACA,EAAK,SAAS,MAAM,MAAM,KAAI,EAAI,CACrC,MAAM,+CAA+C,EACrD,QAAQ,IAAI,QAAQ,EACpB,MACD,CAED,GAAKA,EAAK,SAAS,QAAQ,MAAM,KAAI,EAKnC,MAAM,wBAAwB,EAC9BQ,EAAM,eAAc,EACpB,QAAQ,IAAIP,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CD,EAAK,MAAK,MAT6B,CACvC,MAAM,sCAAsC,EAC5C,QAAQ,IAAI,QAAQ,EACpB,MACJ,CAOA"}